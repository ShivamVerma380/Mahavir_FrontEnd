"use strict";(self.webpackChunkmahavir=self.webpackChunkmahavir||[]).push([[81],{6081:function(e,s,t){t.r(s);var n=t(2982),r=t(885),a=t(4569),d=t.n(a),l=t(2791),o=t(7689),i=t(115),c=t(6495),m=(t(6957),t(9743)),x=t(2677),u=t(9140),h=t(3360),j=t(46),f=(t(3843),t(8820)),p=t(4459),g=(t(4054),t(542)),y=t(5985),Z=t(8114),b=t(184),I="",C="",A="Pune",S="Maharashtra",N="",v="India",k="";s.default=function(){var e=(0,o.s0)(),s=(0,l.useState)([]),t=(0,r.Z)(s,2),a=t[0],T=t[1],P=(0,l.useState)(!1),B=(0,r.Z)(P,2),E=B[0],R=B[1],w=(0,l.useState)([]),L=(0,r.Z)(w,2),M=(L[0],L[1]),z=(0,l.useState)(!1),F=(0,r.Z)(z,2),D=F[0],O=F[1],V=(0,l.useState)([]),Y=(0,r.Z)(V,2),J=(Y[0],Y[1],(0,l.useState)("Select State \u25bc")),_=(0,r.Z)(J,2),K=(_[0],_[1],(0,l.useState)("Select City \u25bc")),W=(0,r.Z)(K,2),q=(W[0],W[1],(0,l.useState)(!1)),G=(0,r.Z)(q,2),H=(G[0],G[1],(0,c.e)("jwtToken"));function Q(){d()({method:"get",url:i.Z+"/address",headers:{Authorization:"Bearer "+H}}).then((function(e){200==e.status&&(T((0,n.Z)(e.data).reverse()),R(!0))})).catch((function(e){console.log(e)})),M(p.ZP.getStatesOfCountry("IN")),O(!0)}(0,l.useEffect)((function(){E||D||Q()}),[]);var U=(0,l.useState)(!1),X=(0,r.Z)(U,2),$=X[0],ee=X[1];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y.Ix,{position:"top-center"}),(0,b.jsx)(g.Z,{}),(0,b.jsxs)("div",{className:"deliveryAdd",children:[(0,b.jsx)(y.Ix,{position:"top-center"}),(0,b.jsxs)(m.Z,{style:{marginTop:"100px"},children:[(0,b.jsx)(x.Z,{md:1}),(0,b.jsx)(x.Z,{md:10,children:(0,b.jsx)("center",{children:(0,b.jsx)("h1",{style:{marginTop:"40px",color:"black",fontSize:"20px",fontWeight:"600",fontFamily:"typeface-roboto",marginLeft:"2px"},children:"DELIVERY ADDRESS \ud83d\udcec"})})}),(0,b.jsx)(x.Z,{md:1})]}),(0,b.jsx)("br",{}),a.map((function(e,s){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(x.Z,{md:2}),(0,b.jsx)(x.Z,{md:8,children:(0,b.jsx)(u.Z,{children:(0,b.jsx)(u.Z.Body,{children:(0,b.jsxs)(u.Z.Text,{style:{width:"fitContent",paddingRight:"0"},children:[(0,b.jsx)("input",{type:"radio",value:"Address1",name:"add",id:"add"+s,onChange:function(){return function(e,s){document.getElementById(s).checked&&localStorage.setItem("selectedaddress",JSON.stringify(e))}(e,e.name+""+s)}})," ",(0,b.jsx)("br",{}),(0,b.jsx)("b",{style:{marginRight:20,marginLeft:10},children:e.name}),(0,b.jsx)("br",{})," ",(0,b.jsx)("b",{children:e.mobileNumber}),(0,b.jsxs)("p",{children:[e.address,(0,b.jsx)("br",{})," ",e.city," ",e.state," ",(0,b.jsxs)("b",{children:["- ",e.pincode]}),",",(0,b.jsx)("br",{})," Alternate Mobile Number: ",(0,b.jsx)("b",{children:e.alternateMobile})]}),(0,b.jsx)(f.YK6,{onClick:function(){return function(e){d().post(i.Z+"/delete-address",e,{headers:{Authorization:"Bearer "+H,"Content-Type":"application/json"}}).then((function(e){200==e.status?(y.Am.success((0,b.jsx)("b",{children:"Address deleted successfully"})),Q()):y.Am.error((0,b.jsx)("b",{children:e.data.message}))})).catch((function(e){console.log("Error in delete-address"),y.Am.error((0,b.jsx)("b",{children:e.response.data.message}))}))}(e)}})]})})})}),(0,b.jsx)(x.Z,{md:2})]}),(0,b.jsx)("br",{})]})})),(0,b.jsxs)(m.Z,{style:{marginTop:20},children:[(0,b.jsx)(x.Z,{md:1}),(0,b.jsx)(x.Z,{md:10,children:(0,b.jsx)("center",{children:(0,b.jsx)(h.Z,{style:{backgroundColor:"#C10000",border:"none"},className:"form-field",onClick:function(){a.length<3?ee(!0):y.Am.error("You can save only 3 addresses")},children:"Add a New Address"})})}),(0,b.jsx)(x.Z,{md:1})]}),(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(x.Z,{md:1}),(0,b.jsx)(x.Z,{md:10,children:(0,b.jsx)("center",{children:(0,b.jsx)(h.Z,{style:{backgroundColor:"#C10000",border:"none",marginTop:"20px",position:"sticky",alignContent:"end"},className:"form-field",onClick:function(){var s=!0;try{a.map((function(t,n){document.getElementById("add"+n).checked&&(localStorage.setItem("selectedaddress",JSON.stringify(t)),e("/summary"),s=!1)})),s&&y.Am.error("Please select an address")}catch(t){console.log("error",t.response)}},children:"Proceed to Buy"})})}),(0,b.jsx)(x.Z,{md:1})]}),(0,b.jsx)("br",{}),$?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(x.Z,{md:3}),(0,b.jsx)(x.Z,{md:6,style:{marginLeft:"10px"},children:(0,b.jsx)(u.Z,{children:(0,b.jsxs)(u.Z.Body,{children:[(0,b.jsx)(u.Z.Title,{style:{fontSize:"18px",alignContent:"center"},children:"Add New Address\ud83d\udccc"}),(0,b.jsx)(m.Z,{style:{marginTop:40},children:(0,b.jsx)(x.Z,{children:(0,b.jsx)(j.II,{id:"full_name",type:"text",className:"form-field",placeholder:"Full Name",name:"fullname",autoComplete:"off",onChange:function(e){I=e.target.value,localStorage.setItem("full-name",I),""===I&&y.Am.warn("Enter full name")},style:{borderRadius:"20px"}})})}),(0,b.jsx)(m.Z,{style:{marginTop:20},children:(0,b.jsx)(x.Z,{children:(0,b.jsx)(j.II,{id:"Phone",className:"form-field",type:"text",placeholder:"Phone No.",name:"Phone",autoComplete:"off",maxLength:10,onChange:function(e){k=e.target.value,localStorage.setItem("phone",k)},style:{borderRadius:"20px"}})})}),(0,b.jsx)(m.Z,{style:{marginTop:20},children:(0,b.jsx)(x.Z,{children:(0,b.jsx)(j.II,{style:{height:"100px",borderRadius:"20px"},id:"last-name",className:"form-field",type:"textarea",autoComplete:"off",maxLength:50,placeholder:"Address Line 1 (Street Address, P.O.)",name:"ADL1",onChange:function(e){C=e.target.value,localStorage.setItem("address-one",C)}})})}),(0,b.jsxs)(m.Z,{style:{marginTop:20},children:[(0,b.jsx)(x.Z,{md:6,children:(0,b.jsx)(j.II,{id:"Country",className:"form-field",type:"text",placeholder:"India",defaultValue:"India",disabled:!0,readonly:!0,style:{borderRadius:"20px"}})}),(0,b.jsx)(x.Z,{md:6,children:(0,b.jsx)(j.II,{id:"state",className:"form-field",type:"text",placeholder:"Maharashtra",defaultValue:"Maharashtra",readonly:!0,style:{borderRadius:"20px"}})})]}),(0,b.jsxs)(m.Z,{style:{marginTop:20},children:[(0,b.jsx)(x.Z,{md:6,style:{marginBottom:20},children:(0,b.jsx)(j.II,{id:"city",className:"form-field",type:"text",placeholder:"Pune",defaultValue:"Pune",readonly:!0,style:{borderRadius:"20px"}})}),(0,b.jsx)(x.Z,{md:6,children:(0,b.jsx)(j.II,{id:"Zip",className:"form-field",type:"text",placeholder:"Zip",name:"Zip",autoComplete:"off",maxLength:6,onChange:function(e){N=e.target.value,localStorage.setItem("zip",N)},style:{borderRadius:"20px"}})})]}),(0,b.jsx)(m.Z,{style:{marginTop:20},children:(0,b.jsx)(x.Z,{children:(0,b.jsx)("center",{children:(0,b.jsx)(h.Z,{style:{backgroundColor:"#C10000",border:"none"},className:"form-field",type:"submit",onClick:function(){if(""===I||""===C||""===A||""===S||""===N||""===v||""===k)y.Am.error("Please enter all details");else{var e={name:document.getElementById("full_name").value,pincode:document.getElementById("Zip").value,locality:"",landmark:"",address:localStorage.getItem("address-one"),city:"Pune",state:"Maharashtra",alternateMobile:document.getElementById("Phone").value,addressType:""};d().post(i.Z+"/address",e,{headers:{Authorization:"Bearer "+H,"Content-Type":"multipart/form-data"}}).then((function(e){200==e.status?(y.Am.success("Address Added successfully"),window.location.reload()):y.Am.error((0,b.jsx)("b",{children:e.data.message}))})).catch((function(e){console.log("Error in address")}))}},children:"Add new Address"})})})})]})})}),(0,b.jsx)(x.Z,{md:3})]}),(0,b.jsx)("br",{})]}):null]}),(0,b.jsx)(Z.Z,{})]})}}}]);
//# sourceMappingURL=81.ab69ce56.chunk.js.map