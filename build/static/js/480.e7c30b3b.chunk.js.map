{"version":3,"file":"static/js/480.e7c30b3b.chunk.js","mappings":"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","sources":["components/Checkout/BuyNowCheckout/Payment.js"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport { Button, Col } from 'reactstrap';\r\nimport {setCookie,getCookie} from '../../Cookies';\r\nimport axios from \"axios\";\r\nimport url from '../../../Uri';\r\nimport { Navigate, useNavigate } from 'react-router-dom';\r\nimport { Form, Row } from 'react-bootstrap';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Card from 'react-bootstrap/Card';\r\nimport './Payment.css';\r\nimport Header from \"../../Header\";\r\nimport Footer from \"../../Footer/Footer\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\n\r\n\r\nfunction Payment(){\r\n\r\n    try{\r\n        var product = JSON.parse(localStorage.getItem(\"buyProduct\"));\r\n    }catch(error){\r\n        console.log(error)\r\n    }\r\n    const [cartModels,SetCartModels] = useState(new Map());\r\n    // const [paymentType, SetPaymentType] = useState(\"\");\r\n    var paymentType = \"\";\r\n    var arr=[];\r\n    // console.log(\"product\",product)\r\n    arr.push(product);\r\n    // console.log(\"arr\",arr)\r\n    \r\n    if(product!=null){\r\n        cartModels.set(product.modelNumber,1);\r\n    }\r\n    \r\n\r\n    const navigate = useNavigate();\r\n\r\n    // console.log(\"CartModels\",cartModels)\r\n\r\n    // console.log(\"Buy Amount\",localStorage.getItem(\"Amount\"));\r\n\r\n    var products = Object.fromEntries(cartModels);\r\n\r\n    var address = JSON.parse(localStorage.getItem(\"selectedaddress\"));\r\n    // console.log(\"Address\",address)\r\n\r\n    const[isPaymentDone,SetIsPaymentDone] = useState(false);\r\n    const [isActive, setIsActive] = useState(false);\r\n    const [isActive1, setIsActive1] = useState(false);\r\n\r\n    let date = new Date()\r\n\r\n    \r\n\r\n    const PayAmount=(e)=>{\r\n        e.preventDefault();\r\n        // console.log(\"Payment Type\",localStorage.getItem(\"paymentType\"));\r\n        if(localStorage.getItem(\"Amount\")===\"\"){\r\n            // alert(\"Please enter amount\");\r\n            toast.warn(\"Please enter amount\");\r\n        }else if(localStorage.getItem(\"paymentType\")==null){\r\n            // alert(\"Please select payment type\")\r\n            toast.warn(<b>Please select payment type</b>)\r\n        }else{\r\n            if(localStorage.getItem(\"paymentType\")===\"cashOnDelivery\"){\r\n                localStorage.setItem(\"paymentmode\",'cashOnDelivery');\r\n                const form_data_body={\r\n                    products,\r\n                    \"userAddress\":{\r\n                    \"name\":address.name,\r\n                    \"mobileNumber\":address.mobileNumber,\r\n                    \"pincode\":address.pincode,\r\n                    \"locality\":address.locality,\r\n                    \"address\":address.address,\r\n                    \"city\":address.city,\r\n                    \"state\":address.state,\r\n                    \"addressType\":\"home\"\r\n                    },\r\n                    \"buyDate\":date.getDate()+\"/\"+date.getMonth()+\"/\"+date.getFullYear(),\r\n                    \"paymentMode\":\"Cash On Delivery\",\r\n                    \"paymentAmount\":localStorage.getItem(\"Amount\")\r\n                }\r\n                // console.log(\"Form Data Body\",form_data_body)\r\n                axios.post(url+\"/order\",form_data_body,{\r\n                headers:{\r\n                    \"Authorization\":\"Bearer \"+getCookie(\"jwtToken\"),\r\n                    \"Content-Type\":\"application/json\"\r\n                }\r\n                }).then(res=>{\r\n                    if(res.status==200){\r\n                        // console.log(\"response\",res)\r\n                        SetIsPaymentDone(true)\r\n                        SetIsPaymentDone(true)\r\n                        navigate(\"/paymentsuccess\")\r\n                        localStorage.removeItem(\"paymentType\");\r\n                        // navigate(\"/invoice\")\r\n                        // localStorage.setItem(\"BuyProductInvoice\",cartModels);\r\n                    }\r\n                }).catch(err=>{\r\n                    console.log(\"Error\",err.response)\r\n                })\r\n            }else{\r\n                const options={\r\n                    key:\"rzp_live_HD5qU0zoy9Ntd2\",\r\n                    key_secret:\"GXZHI3xZnA6BFaCZHEYQt2De\",\r\n                    amount:localStorage.getItem(\"Amount\")*100,\r\n                    // amount:parseInt(localStorage.getItem(\"price\"))*100,\r\n                    currency:\"INR\",\r\n                    name:\"Mahavir Electronics\",\r\n                    description:\"Payment for products\",\r\n                    handler:function(response){\r\n                        // alert(response.razorpay_payment_id);\r\n                        // console.log(\"error in sending payment:\",response);\r\n                        if(localStorage.getItem(\"Amount\")!=null){\r\n                                const form_data_body={\r\n                                    products,\r\n                                    \"userAddress\":{\r\n                                    \"name\":address.name,\r\n                                    \"mobileNumber\":address.mobileNumber,\r\n                                    \"pincode\":address.pincode,\r\n                                    \"locality\":address.locality,\r\n                                    \"address\":address.address,\r\n                                    \"city\":address.city,\r\n                                    \"state\":address.state,\r\n                                    \"addressType\":\"home\"\r\n                                    },\r\n                                    \"buyDate\":date.getDate()+\"/\"+date.getMonth()+\"/\"+date.getFullYear(),\r\n                                    \"paymentMode\":\"razorpay\",\r\n                                    \"paymentAmount\":localStorage.getItem(\"Amount\"),\r\n                                    \"paymentId\":response.razorpay_payment_id\r\n                                }\r\n                            // console.log(\"Form Data Body\",form_data_body)\r\n                                axios.post(url+\"/order\",form_data_body,{\r\n                                headers:{\r\n                                    \"Authorization\":\"Bearer \"+getCookie(\"jwtToken\"),\r\n                                    \"Content-Type\":\"application/json\"\r\n                                }\r\n                                }).then(res=>{\r\n                                    if(res.status==200){\r\n                                        // console.log(\"response\",res)\r\n                                        SetIsPaymentDone(true)\r\n                                        SetIsPaymentDone(true)\r\n                                        localStorage.removeItem(\"paymentType\");\r\n                                        navigate(\"/paymentsuccess\")\r\n                                        // navigate(\"/invoice\")\r\n                                        // localStorage.setItem(\"BuyProductInvoice\",cartModels);\r\n                                    }\r\n                                }).catch(err=>{\r\n                                    console.log(\"Error\",err.response)\r\n                                })\r\n                                \r\n                            } \r\n                        \r\n                            \r\n                        \r\n                    },\r\n                    prefill:{\r\n                        name:address.name,\r\n                        contact:address.mobileNumber,\r\n                        email:\"shivam380.testing@gmail.com\"\r\n                    },\r\n                    notes:{\r\n                        address:address.address\r\n                    },\r\n                    theme: {\r\n                        color: \"#F37254\"\r\n                    }\r\n                };\r\n                var rzp1 = new window.Razorpay(options);\r\n                rzp1.open();\r\n            }\r\n            // alert(localStorage.getItem(\"price\"))\r\n            \r\n        }\r\n        }\r\n        \r\n        \r\n    \r\n\r\n    return(\r\n        <div>\r\n            <ToastContainer position=\"top-center\"/>\r\n            {\r\n                (isPaymentDone)?(\r\n                    <h1>Payment Done</h1>\r\n                ):(\r\n                    <>\r\n                    <body style={{background:\"whitesmoke\"}}>\r\n                    <Header />\r\n                    <Row style={{ height: \"100%\", width: \"100%\",marginTop:\"70px\" ,background:\"white\"}}>\r\n                            <Col md={4}></Col>\r\n                            <center>\r\n                            <Col md={8} className=\"payment\">\r\n                                <h3>Payment</h3>\r\n                                <p style={{ fontSize: \"16px\", marginTop: \"20px\" }}>Choose payment method below</p>\r\n                                <Row>\r\n                                    <Col md={8}>\r\n                                        <Card style={{ width: \"200px\", height: \"100px\", border: \"1px solid black\", margin: \"10px\", backgroundColor: isActive ? 'lightblue' : '' }}>\r\n                                            <Card.Img id=\"razorpay\" onClick={() => { localStorage.setItem(\"paymentType\",'razorpay'); setIsActive(true); setIsActive1(false); } } style={{ padding: \"35px\", width: \"200px\", height: \"100px\" }} variant=\"top\" src=\"https://upload.wikimedia.org/wikipedia/en/8/89/Razorpay_logo.svg\" />\r\n                                            {/*  */}\r\n                                        </Card>\r\n                                    </Col>\r\n                                    <Col md={4}>\r\n                                        <Card style={{ width: \"150px\", height: \"100px\", border: \"1px solid black\", margin: \"10px\", backgroundColor: isActive1 ? 'lightblue' : '' }} onClick={() => { paymentType = 'cashOnDelivery'; setIsActive1(true); setIsActive(false); } }>\r\n                                            <Card.Img id=\"cashOnDelivery\" onClick={() => { localStorage.setItem(\"paymentType\",'cashOnDelivery'); setIsActive1(true); setIsActive(false); } } style={{ padding: \"10px\", width: \"100px\", height: \"100px\", marginLeft: \"20px\" }} variant=\"top\" src=\"https://cdn-icons-png.flaticon.com/512/1019/1019607.png\" />\r\n                                            {/* onClick={SetPaymentType(\"cashOnDelivery\")} */}\r\n                                        </Card>\r\n                                    </Col>\r\n                                </Row>\r\n\r\n                                {/* <Form >\r\n        <Form.Check type=\"radio\" id=\"cashOnDelivery\" name=\"paymentoption\" value=\"Cash On Delivery\" label=\"Cash On Delivery\"/>\r\n        <Form.Check type=\"radio\" id=\"razorpay\" name=\"paymentoption\" value=\"Pay Online\" label=\"Pay Online\"/>\r\n    </Form>\r\n    <Button onClick={PayAmount}>Next</Button> */}\r\n                                <Row>\r\n                                    <Col md={3}></Col>\r\n                                    <Col md={6}>\r\n                                <Button className=\"payment_nextbtn\" onClick={PayAmount}>Next</Button>\r\n                                </Col>\r\n                                </Row>\r\n                            </Col>\r\n                            </center>\r\n                            \r\n                        </Row>\r\n                        <Footer/>\r\n                        </body></>\r\n                    \r\n                    \r\n                )\r\n            }\r\n            \r\n        </div>\r\n        \r\n    );\r\n\r\n}\r\n\r\nexport default Payment;"],"names":["product","JSON","parse","localStorage","getItem","error","console","log","useState","Map","cartModels","push","set","modelNumber","navigate","useNavigate","products","Object","fromEntries","address","isPaymentDone","SetIsPaymentDone","isActive","setIsActive","isActive1","setIsActive1","date","Date","position","style","background","Header","Row","height","width","marginTop","md","className","fontSize","Card","border","margin","backgroundColor","id","onClick","setItem","padding","variant","src","marginLeft","e","preventDefault","toast","form_data_body","name","mobileNumber","pincode","locality","city","state","getDate","getMonth","getFullYear","axios","url","headers","getCookie","then","res","status","removeItem","catch","err","response","options","key","key_secret","amount","currency","description","handler","razorpay_payment_id","prefill","contact","email","notes","theme","color","window","Razorpay","open","Footer"],"sourceRoot":""}