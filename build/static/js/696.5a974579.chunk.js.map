{"version":3,"file":"static/js/696.5a974579.chunk.js","mappings":"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","sources":["components/OrderDetails/Orders.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState }  from \"react\";\r\nimport {Row,Col,Form,Button,Image} from 'react-bootstrap';\r\nimport Header from \"../Header\";\r\nimport {setCookie,getCookie} from '../Cookies';\r\nimport url from \"../../Uri\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport './orders.css';\r\n\r\n\r\nconst Orders=()=>{\r\n\r\n    var date = new Date();\r\n\r\n    const [orders,setOrders]=useState([]);\r\n    const [isOrdersFetched,SetIsOrdersFetched] = useState(false);\r\n\r\n    const [fitleredOrders,setFilteredOrders]=useState([]);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    // console.log(\"orders \"+productBoughtbyUser[0]);\r\n    // console.log(\"orders type\"+typeof productBoughtbyUser);\r\n\r\n    \r\n   \r\n\r\n    useEffect(()=>{\r\n        if(!isOrdersFetched){\r\n            axios.get(url+\"/my-orders\",{\r\n                headers:{\r\n                    \"Authorization\":\"Bearer \"+getCookie(\"jwtToken\")\r\n                }\r\n            }).then(function(response){\r\n                if(response.status==200){\r\n                    // console.log(\"Success\",response.data);\r\n                    setOrders([...response.data].reverse());\r\n                    setFilteredOrders([...response.data].reverse());\r\n                    SetIsOrdersFetched(true);\r\n                }\r\n            }).catch(function(error){\r\n                console.log(\"Error in /my-orders\");\r\n            })\r\n        }\r\n\r\n    })\r\n\r\n    function handleFormCheck(){\r\n        var arr=[]\r\n        if(document.getElementById(\"on-the-way\").checked){\r\n            orders.map(o=>{\r\n                if(o.deliveryDate==null){\r\n                    arr.push(o);\r\n                }\r\n            })\r\n\r\n        }\r\n        if(document.getElementById(\"delivered\").checked){\r\n            orders.map(o=>{\r\n                if(o.deliveryDate!=null){\r\n                    arr.push(o);\r\n                }\r\n            })\r\n        }\r\n\r\n        if(document.getElementById(\"on-the-way\").checked==false && document.getElementById(\"delivered\").checked==false){\r\n            arr = orders\r\n        }\r\n\r\n        // console.log(date.getFullYear(),document.getElementById(date.getFullYear()).checked);\r\n        // console.log(date.getFullYear()-1,document.getElementById(date.getFullYear()-1).checked);\r\n        // console.log(\"Older\",document.getElementById(\"Older\").checked);\r\n\r\n        var final_arr=[];\r\n\r\n        if(document.getElementById(date.getFullYear()).checked){\r\n            // console.log(\"orderDate\",o.buyDate.substring(5));\r\n            arr.map(o=>{\r\n                if(o.buyDate.substring(5)==date.getFullYear()){\r\n                    final_arr.push(o);\r\n                }\r\n            })\r\n        }\r\n\r\n        if(document.getElementById(date.getFullYear()-1).checked){\r\n            // console.log(\"orderDate\",o.buyDate.substring(5));\r\n            arr.map(o=>{\r\n                if(o.buyDate.substring(5)==(date.getFullYear()-1)){\r\n                    final_arr.push(o);\r\n                }\r\n            })\r\n        }\r\n\r\n        if(document.getElementById(\"Older\").checked){\r\n            // console.log(\"orderDate\",o.buyDate.substring(5));\r\n            arr.map(o=>{\r\n                if(o.buyDate.substring(5)<(date.getFullYear()-1)){\r\n                    final_arr.push(o);\r\n                }\r\n            })\r\n        }\r\n\r\n        if(document.getElementById(date.getFullYear()).checked==false && document.getElementById(date.getFullYear()-1).checked==false && document.getElementById(\"Older\").checked==false){\r\n            final_arr = arr;\r\n        }\r\n\r\n        setFilteredOrders([]);\r\n        setFilteredOrders([...final_arr]);\r\n        // console.log(\"On The way\",document.getElementById(\"on-the-way\").checked)\r\n        // console.log(\"Delivered\",document.getElementById(\"delivered\").checked)\r\n    }\r\n\r\n    function rateProduct(order){\r\n        // console.log(\"Rate rating\",order);\r\n        localStorage.setItem(\"rateProduct\",JSON.stringify(order));\r\n        navigate(\"/ratereview\")\r\n    }\r\n\r\n    function editRating(order){\r\n        // console.log(\"Edit Rating\",order);\r\n    }\r\n\r\n    function generateInvoice(order){\r\n        // console.log(\"Generate Invoice\",JSON.stringify(order));\r\n        localStorage.setItem(\"Generate Invoice\",JSON.stringify(order));\r\n        navigate(\"/invoice\")\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Header/>\r\n            <Row className=\"orders\">\r\n            <Col style={{    backgroundColor: '#fff',\r\n                            borderRadius: '2px',\r\n                            boxShadow: '0 2px 4px 0 rgb(0 0 0 / 8%)'}} sm={2}>\r\n                        <h3 style={{margin: '10px'}}>Filter</h3>\r\n                        <div className=\"orderfilter\">\r\n                            <div className=\"orderfiltertitle\" >Order Status</div>\r\n                            <Form className=\"orderfiltercheck\">\r\n                        <Form.Check type=\"checkbox\" label=\"On The Way\" id=\"on-the-way\" onChange={handleFormCheck}/>\r\n                        <Form.Check type=\"checkbox\" label=\"Delivered\" id=\"delivered\" onChange={handleFormCheck}/>\r\n                    </Form>\r\n                    </div>\r\n                        <div className=\"orderfilter\">\r\n                            <div className=\"orderfiltertitle\">Order Time</div>\r\n\r\n                            <Form className=\"orderfiltercheck\">\r\n                        <Form.Check type=\"checkbox\" id={date.getFullYear()} label= {date.getFullYear()} onChange={handleFormCheck} />\r\n                        <Form.Check type=\"checkbox\" id={date.getFullYear()-1} label= {date.getFullYear()-1} onChange={handleFormCheck}/>\r\n                        <Form.Check type=\"checkbox\" id=\"Older\" label= \"Older\" onChange={handleFormCheck}/>\r\n                    </Form>\r\n                    </div>\r\n                </Col>\r\n                <Col md={10}>\r\n                {\r\n                    (isOrdersFetched)?(\r\n                        fitleredOrders.map(order=>{\r\n                            return(\r\n\r\n\r\n                                    <Row className=\"ordersbox\">\r\n                                        <Col md={2} style={{display:'flex',justifyContent:'center'}}>\r\n                                        <Image thumbnail=\"true\" src={order.productImage1}/>\r\n                                        </Col>\r\n                                        <Col md={4}>\r\n                                            <h5>{order.productName}\r\n                                            \r\n                                            </h5>\r\n                                            {\r\n                                            (order.productRated==true)?(\r\n                                                    \r\n                                                    // <p>Product is already rated</p>\r\n                                                    <Button className=\"buttonn\" onClick={()=>editRating(order)}>Already rated</Button>\r\n                                                \r\n                                            ):(\r\n                                                \r\n                                                    <Button className=\"buttonn\"  onClick={()=>rateProduct(order)}>Rate & Review</Button>            \r\n                                                    \r\n                                            )\r\n                                        }\r\n                                        {/* <Button className=\"buttonn\" style={{marginLeft:\"15px\"}} onClick={()=>generateInvoice(order)}>Invoice</Button> */}\r\n\r\n                                        </Col>\r\n                                        <Col md={2}>\r\n                                            \r\n                                        <h5 style={{marginTop:'10px'}}> MSP: <b style={{color:\"rgb(255,98,98)\"}}>₹{order.productPrice} </b> </h5> \r\n                    \r\n                                        </Col>\r\n                                        <Col md={4}>\r\n\r\n                                        <h5>Quantity:{order.quantity}\r\n                                        <br></br>Ordered On: {order.buyDate}\r\n                                        <br></br>Delivery Date:{order.deliveryDate}\r\n                                        <br></br>Payment Mode:{order.paymentMode}</h5>\r\n                                        \r\n                                        \r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                        \r\n                                // <Row>\r\n                                //     <Col md={2}>\r\n                                //         <img style={{height:\"275px\" ,width:\"275px\"}} src={order.productImage1}></img>\r\n                                //     </Col>\r\n                                //     <Col md={9}>\r\n                                //         <h5 style={{marginTop:\"25px\"}}>{order.productName}</h5>   \r\n                                //         {/* <p>MRP:<s>{order.productPrice}</s> <b style={{marginLeft:\"20px\"}}>MSP:{order.offerPrice}</b></p> */}\r\n                                //         <h6>Quantity:{order.quantity}</h6>\r\n                                //         <p>Buy Date:{order.buyDate}</p>\r\n                                //         <p>Delivery Date:{order.deliveryDate}</p>\r\n                                //         <p>Payment Mode:{order.paymentMode}</p>\r\n                                //         {\r\n                                //             (order.productRated==true)?(\r\n                                                    \r\n                                //                     // <p>Product is already rated</p>\r\n                                //                     <Button onClick={()=>editRating(order)}>Already rated</Button>\r\n                                                \r\n                                //             ):(\r\n                                                \r\n                                //                     <Button onClick={()=>rateProduct(order)}>Rate & Review</Button>            \r\n                                                    \r\n                                //             )\r\n                                //         }\r\n                                        \r\n                                //         <Button  style={{marginLeft:\"15px\"}} onClick={()=>generateInvoice(order)}>Invoice</Button>\r\n                                //     </Col>\r\n                                // </Row>\r\n                            )\r\n                        })\r\n                    ):(\r\n                        null\r\n                    )\r\n                }\r\n                </Col>\r\n            </Row>\r\n\r\n        </div>\r\n    );\r\n\r\n    \r\n}\r\n\r\n\r\nexport default Orders;\r\n"],"names":["date","Date","useState","orders","setOrders","isOrdersFetched","SetIsOrdersFetched","fitleredOrders","setFilteredOrders","navigate","useNavigate","handleFormCheck","arr","document","getElementById","checked","map","o","deliveryDate","push","final_arr","getFullYear","buyDate","substring","useEffect","axios","url","headers","getCookie","then","response","status","data","reverse","catch","error","console","log","className","style","backgroundColor","borderRadius","boxShadow","sm","margin","type","label","id","onChange","md","order","display","justifyContent","thumbnail","src","productImage1","productName","productRated","onClick","localStorage","setItem","JSON","stringify","rateProduct","marginTop","color","productPrice","quantity","paymentMode"],"sourceRoot":""}