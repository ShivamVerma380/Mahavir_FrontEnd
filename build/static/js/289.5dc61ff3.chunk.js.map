{"version":3,"file":"static/js/289.5dc61ff3.chunk.js","mappings":"2QA+UA,UA7TA,WACI,IAAIA,GAAMC,EAAAA,EAAAA,GAAU,YAGpB,IAFSA,EAAAA,EAAAA,GAAU,cAAcC,MAAM,MACrBD,EAAAA,EAAAA,GAAU,gBAAgBC,MAAM,MAChCC,EAAAA,EAAAA,WAASF,EAAAA,EAAAA,GAAU,gBAAgBC,MAAM,KAAKE,SAAhE,eAAMC,EAAN,KAEA,GAFA,MACiBC,EAAAA,EAAAA,OACqCH,EAAAA,EAAAA,WAAS,IAA/D,eACA,GADA,WAC4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOI,EAAP,KAEA,GAFA,MAE+BJ,EAAAA,EAAAA,UAAS,KAAxC,eAAgBK,GAAhB,WACA,GAAiDL,EAAAA,EAAAA,WAAS,GAA1D,eAAOM,EAAP,KAAyBC,EAAzB,KACMC,GAAWC,EAAAA,EAAAA,MAIjB,GAAkDT,EAAAA,EAAAA,WAAS,GAA3D,eAAOU,EAAP,KAA0BC,EAA1B,KAGA,GAAiCX,EAAAA,EAAAA,WAAS,GAA1C,eAAOY,EAAP,KAAiBC,EAAjB,KAGF,GAAgDb,EAAAA,EAAAA,WAAS,GAAzD,eAAOc,EAAP,KACE,GADF,MAC0Bd,EAAAA,EAAAA,UAAS,KAAjC,eAAOe,EAAP,KAAaC,EAAb,MAGAC,EAAAA,EAAAA,YAAU,WACFX,GACJY,IAAAA,IAAUC,EAAAA,EAAI,6BAA6BC,aAAaC,QAAQ,aAAaC,MAAK,SAASC,GAEvE,KAAjBA,EAASC,SACRnB,EAAYkB,EAASE,MAErBlB,GAAqB,GAIxB,IAAEmB,OAAM,SAASC,GACdC,QAAQC,IAAI,6CAEf,IAKAnB,GAAsBI,GACzBI,IAAM,CACJY,OAAQ,MACRX,IAAKA,EAAAA,EAAI,YACTY,QAAS,CACP,cAAiB,UAAUlC,KAE5ByB,MAAK,SAAUC,GAEO,KAAnBA,EAASC,SAEXR,EAAQO,EAASE,MACjBd,GAAqB,GACrBE,GAAa,GAIhB,IAAEa,OAAM,SAAUC,GACjBd,GAAa,GACbe,QAAQC,IAAIF,EAAMJ,SACnB,GAEF,IA+CCH,aAAaY,QAAQ,eAAe5B,GAmIpC,IAcE6B,EAAS,GAQb,OAPAlB,EAAKmB,KAAI,SAAAC,GACPF,EAASG,KAAKD,EAAEE,YACjB,IASE/B,GAEC,iCAEA,SAAC,KAAD,CAAgBgC,SAAS,eAEvB1B,GAAW,SAAC,IAAD,IAAoB,MAEjC,SAAC,IAAD,KAEA,2BAGKV,EAAI,EAAG,GAAK,UAAC,IAAD,CAAQqC,GAAG,aAAaC,MAAO,CAACF,SAAS,SAAUG,QAAS,kBAAIjC,EAAS,mBAAb,EAA5D,sBAAwGN,EAAI,KAAe,MAG1I,SAAC,KAAD,CAAgBoC,SAAS,gBAGjC,SAAC,IAAD,CAAKE,MAAO,CAACE,UAAU,SAAvB,UACA,gBAAKC,UAAU,WAAWC,MAAM,6BAAhC,UAGF,mBAAQL,GAAG,qBAAqBM,YAAY,iBAA5C,UAGE,2BAAgBC,aAAa,iBASnB,SAAC,IAAD,UAMF,IAIT,C","sources":["components/Items/CategoryProducts.js"],"sourcesContent":["import React from \"react\";\r\nimport {Card,Button,Row,Col, Form,CardGroup, Container} from \"react-bootstrap\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { Pagination, Navigation } from \"swiper\";\r\nimport { AiOutlineHeart, AiTwotoneHeart,AiFillHeart } from \"react-icons/ai\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {setCookie,getCookie} from '../Cookies'\r\nimport {useLocation} from 'react-router-dom';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport Header from \"../Header\";\r\nimport TestFilterProducts from \"../Filters/TestFilterProducts\";\r\nimport url from \"../../Uri\";\r\nimport LoadingSpinner from \"../LoadingSpinner\";\r\n// import {getCookie,setCookie} from '../Cookies';\r\n\r\n\r\nfunction CategoryProducts(){\r\n    var token=getCookie(\"jwtToken\");\r\n    var cart=getCookie(\"CartModels\").split(',');\r\n    var comparemodels=getCookie(\"addToCompare\").split(',');\r\n    const[len,setLen]=useState(getCookie(\"addToCompare\").split(',').length);\r\n    const location = useLocation();\r\n    const [isAddCompareClicked, setisAddCompareClicked] = useState(false);\r\n    const [change, setChange] = useState(0);\r\n//  var token=getCookie(\"jwtToken\");\r\n    const [Products,setProducts] = useState([]);\r\n    const [isProductsFetched,setIsProductsFetched] = useState(false);\r\n    const navigate = useNavigate();\r\n    var cards=<div>\r\n        <img className=\"logo_mahavir\" alt=\"God\" />\r\n    </div>\r\n    const [isWishlistFetched, setIsWishlistFetched] = useState(false);\r\n    \r\n\r\n    const [isLoading,SetIsLoading] = useState(true);\r\n\r\n\r\n  const [isProductFetched, setIsProductFetched] = useState(false);\r\n    const [wish, setWish] = useState([]);\r\n   \r\n   \r\n    useEffect(()=>{\r\n        if(!isProductsFetched ){\r\n        axios.get(url+\"/get-products-by-category/\"+localStorage.getItem(\"Category\")).then(function(response){\r\n        // console.log(response);\r\n        if(response.status==200){\r\n            setProducts(response.data);\r\n            // console.log(\"Products By Cat: \",response.data);\r\n            setIsProductsFetched(true);\r\n            // SetIsLoading(false);\r\n        }\r\n        \r\n        }).catch(function(error){\r\n            console.log(\"error in get-products-by-category/Category\");\r\n            \r\n        })\r\n\r\n\r\n    }\r\n\r\n    if (!isWishlistFetched && !isProductFetched) {\r\n      axios({\r\n        method: \"get\",\r\n        url: url+\"/wishlist\",\r\n        headers: {\r\n          \"Authorization\": \"Bearer \"+token\r\n        }\r\n      }).then(function (response) {\r\n        // console.log(\"Response\", response);\r\n        if (response.status == 200) {\r\n          // console.log(\"Wishlist response\", response.data);\r\n          setWish(response.data);\r\n          setIsWishlistFetched(true);\r\n          SetIsLoading(false);\r\n        } else {\r\n          // console.log(response.data.message);\r\n        }\r\n      }).catch(function (error) {\r\n        SetIsLoading(false);\r\n        console.log(error.response);\r\n      })\r\n    }\r\n    })\r\n\r\n    function fetchOfferAvailableBtn(offerPrice,productPrice){\r\n        if(offerPrice===productPrice){\r\n          return <Button variant=\"flat\" size=\"m\" style={{visibility:\"hidden\"}}>Offer Available</Button>\r\n        }\r\n        return <Button variant=\"flat\" size=\"m\">Offer, Free Gift Available</Button>\r\n      }\r\n\r\n    function callProductDetails(index){\r\n        //alert(index);\r\n        // console.log(\"Index\",index);\r\n        localStorage.setItem(\"productSelected\",index.modelNumber);\r\n        localStorage.setItem(\"productId\", index.productId);\r\n        navigate(\"/productDetails\")\r\n      }\r\n\r\n    \r\n      function handleAddToCompare(modelNumber){\r\n        \r\n        var element = document.getElementById(modelNumber);\r\n        \r\n        if(element.checked){\r\n          \r\n          \r\n            // console.log(\"adddd\"+modelNumber);\r\n            comparemodels.push(modelNumber);\r\n            setCookie(\"addToCompare\",comparemodels,20);\r\n            setLen(getCookie(\"addToCompare\").split(',').length)\r\n          \r\n        }\r\n        else {\r\n          for (var i = 0; i < comparemodels.length; i++) {\r\n            if (comparemodels[i] === modelNumber) {\r\n              comparemodels.splice(i, 1);\r\n                // console.log(comparemodels);\r\n                setCookie(\"addToCompare\",comparemodels,20);\r\n                setLen(getCookie(\"addToCompare\").split(',').length)\r\n                // window.location.reload();\r\n                break;\r\n            }\r\n        }\r\n\r\n        }\r\n        \r\n    }\r\n      \r\n      localStorage.setItem(\"comparecount\",change)\r\n      // console.log(\"Get\",localStorage.getItem(\"comparecount\"))\r\n  \r\n      \r\n    function WishlistHandler(index) {\r\n        // alert(\"Item added successfully to wishlist\");\r\n        // console.log(index.modelNumber)\r\n        // if (localStorage.getItem(\"wishlistproduct\")==null) {\r\n        //   localStorage.setItem(\"wishlistproduct\",index.modelNumber)\r\n        // }else {\r\n        //   var arr = localStorage.getItem(\"wishlistproduct\").split(',')\r\n        //   var flag = true;\r\n        //   arr.map(i=>{\r\n           \r\n        //     console.log(\"i: \",i)\r\n        //     if( i=== index.modelNumber) {\r\n        //         arr.splice(arr.indexOf(i),1)\r\n        //         localStorage.setItem(\"wishlistproduct\",arr)\r\n        //         console.log('del arr: ' + arr)\r\n        //         console.log('del ls: ' + localStorage.getItem(\"wishlistproduct\"))\r\n        //        console.log(\"in if\")\r\n        //       flag = false;\r\n        //     } \r\n        //   }) \r\n        //   if(flag)\r\n        //     localStorage.setItem(\"wishlistproduct\",localStorage.getItem(\"wishlistproduct\")+\",\"+index.modelNumber)\r\n        //     //navigate('/categoryProductsall')\r\n        //     CategoryProducts(location.state.name)\r\n          \r\n        // }\r\n\r\n        // console.log(\"Wishlist clicked\")\r\n\r\n      \r\n        var formdata = {\r\n          \"modelNumber\": index.modelNumber\r\n  \r\n        }\r\n  \r\n        axios.post(\"/wishlist\", formdata, {\r\n          headers: {\r\n            \"Authorization\": \"Bearer \"+token,\r\n            \"Content-Type\": \"multipart/form-data\"\r\n          }\r\n        }).then(function (response) {\r\n          if (response.status == 200) {\r\n            // console.log(\"Added to wishlist successfully\");\r\n            toast.success(<b>Added to wishlist successfully</b>)\r\n            \r\n            console.log(response.data)\r\n            // navigate(\"/\");\r\n          }\r\n        }).catch(function (error) {\r\n          if(error.response.status==406) {\r\n            toast.warn(<b>Item already present in Wishlist</b>)\r\n            // alert(\"Item already present in wishlist\")\r\n          }\r\n          else {\r\n            console.log(\"Error\", error.response);\r\n          }\r\n          \r\n        })\r\n\r\n        window.location.reload();\r\n        \r\n    }\r\n\r\n    const RemoveFromWishList = (modelnum) => {\r\n      var arr= [];\r\n      // console.log(\"Wish \",wish)\r\n          wish.map(pro=>{\r\n            if(pro.modelNumber!==modelnum) {\r\n              arr.push(pro);\r\n            }\r\n            // console.log(\"i Modelnum \",pro.modelNumber, \"Index Modelnum \",modelnum)\r\n          })\r\n          setWish(arr);\r\n          // console.log(\"Arr \",arr)\r\n         \r\n      // localStorage.setItem(\"RemoveIndex\",index.modelNumber);\r\n  \r\n      // setRemoveClicked(true);\r\n      // var formdata = {\r\n      //   \"modelNumber\": index.modelNumber\r\n      // }\r\n  \r\n      // console.log(\"Model Num: \", index.modelNumber)\r\n      \r\n      // console.log(\"Form Data: \", formdata);\r\n      //   const headers = { \r\n      //     \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJraGFyZW9ta2FyOTlAZ21haWwuY29tbW0iLCJleHAiOjE2NTc2MTc5MDgsImlhdCI6MTY1NzUxNzkwOH0.v_DeVJD4Cc77EZ_Kk0heR8tV0G4_vgFjZhvq87kOg3s\"\r\n  \r\n      // };\r\n      axios.delete(\"/wishlist/\" + modelnum, {\r\n        headers: {\r\n          \"Authorization\": \"Bearer \"+token,\r\n        }\r\n      }\r\n  \r\n        // data: {\r\n        //   \"modelNumber\": index.modelNumber\r\n        // }\r\n      ).then(function (response) {\r\n        if (response.status == 200) {\r\n          // console.log(\"Deleted successfully\");\r\n          // console.log(response.data)\r\n          // setRemoveClicked(true)\r\n          \r\n          // window.location.reload();\r\n          \r\n          // navigate(\"/\");\r\n        }\r\n      }).catch(function (error) {\r\n        console.log(\"Error\", error.response);\r\n      });\r\n      \r\n      // setWish((products) => products.filter((i) => i !== index.modelNumber));\r\n  \r\n    }\r\n\r\n    function buyNow(index){\r\n      localStorage.setItem(\"buyProduct\",JSON.stringify(index));\r\n      navigate('/checkout')\r\n      \r\n    }\r\n\r\n    function CategoryProducts(cattitle){\r\n     \r\n\r\n        navigate(\"/categoryProductsall\")\r\n      }\r\n      const addtocart=(model)=>{\r\n        if(cart.includes(model)){\r\n            // alert(\"Item is already present in cart\")\r\n            toast.warn(<b>Item is already present in cart</b>)\r\n        }\r\n        else{\r\n            // console.log(\"adddd\"+model);\r\n            cart.push(model);\r\n            setCookie(\"CartModels\",cart,20);\r\n            // alert(\"Added to cart\"+model);\r\n        }  \r\n    }  \r\n    \r\n    //var wish = JSON.stringify(wishlist);\r\n    var wishlist=[];\r\n    wish.map(i=>{\r\n      wishlist.push(i.modelNumber);\r\n    })\r\n    // console.log(\"wish \"+wishlist)\r\n\r\n   \r\n\r\n    return(\r\n        \r\n       \r\n        \r\n      (isProductsFetched)?\r\n      (\r\n        <>\r\n        \r\n        <ToastContainer position=\"top-center\"/>\r\n        {\r\n          isLoading?(<LoadingSpinner/>):(null)\r\n        }\r\n        <Header/>\r\n        \r\n        <div >\r\n          \r\n          {\r\n          (((len-1)>0) ? <Button id=\"comparebtn\" style={{position:'fixed'}} onClick={()=>navigate('/compareProducts')}>Compare: {len-1}</Button> : (null))\r\n          \r\n          }\r\n          <ToastContainer position=\"top-center\"/>\r\n\r\n\r\n  <Row style={{marginTop:\"100px\"}}>\r\n  <svg className=\"svgtitle\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\r\n\r\n<filter id=\"motion-blur-filter\" filterUnits=\"userSpaceOnUse\">\r\n\r\n\r\n  <feGaussianBlur stdDeviation=\"100 0\"></feGaussianBlur>\r\n</filter>\r\n</svg>\r\n{/* <span className=\"categorytitle\" filter-content=\"S\">{localStorage.getItem(\"Category\")}</span> */}\r\n  </Row>\r\n          \r\n              \r\n            {/* <h1 style={{color:\"rgb(255,98,98\", marginLeft:'2%',marginTop:'2%'}}><i>{location.state.name}</i></h1> */}\r\n\r\n            <TestFilterProducts/>\r\n            \r\n        \r\n        \r\n      \r\n    </div>\r\n    </>):(null)\r\n    \r\n    )\r\n\r\n}\r\n\r\nexport default CategoryProducts;"],"names":["token","getCookie","split","useState","length","len","useLocation","change","setProducts","isProductsFetched","setIsProductsFetched","navigate","useNavigate","isWishlistFetched","setIsWishlistFetched","isLoading","SetIsLoading","isProductFetched","wish","setWish","useEffect","axios","url","localStorage","getItem","then","response","status","data","catch","error","console","log","method","headers","setItem","wishlist","map","i","push","modelNumber","position","id","style","onClick","marginTop","className","xmlns","filterUnits","stdDeviation"],"sourceRoot":""}