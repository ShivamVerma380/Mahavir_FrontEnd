"use strict";(self.webpackChunkmahavir=self.webpackChunkmahavir||[]).push([[480],{1480:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var n=a(885),o=a(2791),r=a(46),s=a(6495),l=a(4569),i=a.n(l),c=a(115),m=a(6871),d=a(9743),p=a(9140),h=a(542),y=a(8114),u=a(5985),g=a(184);var x=function(){try{var e=JSON.parse(localStorage.getItem("buyProduct"))}catch(O){console.log(O)}var t=(0,o.useState)(new Map),a=(0,n.Z)(t,2),l=a[0];a[1],[].push(e),null!=e&&l.set(e.modelNumber,1);var x=(0,m.s0)(),b=Object.fromEntries(l),j=JSON.parse(localStorage.getItem("selectedaddress")),f=(0,o.useState)(!1),v=(0,n.Z)(f,2),k=v[0],w=v[1],S=(0,o.useState)(!1),I=(0,n.Z)(S,2),Z=I[0],D=I[1],A=(0,o.useState)(!1),T=(0,n.Z)(A,2),C=T[0],N=T[1],z=new Date;return(0,g.jsxs)("div",{children:[(0,g.jsx)(u.Ix,{position:"top-center"}),k?(0,g.jsx)("h1",{children:"Payment Done"}):(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("body",{style:{background:"whitesmoke"},children:[(0,g.jsx)(h.Z,{}),(0,g.jsxs)(d.Z,{style:{height:"100%",width:"100%",marginTop:"70px",background:"white"},children:[(0,g.jsx)(r.JX,{md:4}),(0,g.jsx)("center",{children:(0,g.jsxs)(r.JX,{md:8,className:"payment",children:[(0,g.jsx)("h3",{children:"Payment"}),(0,g.jsx)("p",{style:{fontSize:"16px",marginTop:"20px"},children:"Choose payment method below"}),(0,g.jsxs)(d.Z,{children:[(0,g.jsx)(r.JX,{md:8,children:(0,g.jsx)(p.Z,{style:{width:"200px",height:"100px",border:"1px solid black",margin:"10px",backgroundColor:Z?"lightblue":""},children:(0,g.jsx)(p.Z.Img,{id:"razorpay",onClick:function(){localStorage.setItem("paymentType","razorpay"),D(!0),N(!1)},style:{padding:"35px",width:"200px",height:"100px"},variant:"top",src:"https://upload.wikimedia.org/wikipedia/en/8/89/Razorpay_logo.svg"})})}),(0,g.jsx)(r.JX,{md:4,children:(0,g.jsx)(p.Z,{style:{width:"150px",height:"100px",border:"1px solid black",margin:"10px",backgroundColor:C?"lightblue":""},onClick:function(){"cashOnDelivery",N(!0),D(!1)},children:(0,g.jsx)(p.Z.Img,{id:"cashOnDelivery",onClick:function(){localStorage.setItem("paymentType","cashOnDelivery"),N(!0),D(!1)},style:{padding:"10px",width:"100px",height:"100px",marginLeft:"20px"},variant:"top",src:"https://cdn-icons-png.flaticon.com/512/1019/1019607.png"})})})]}),(0,g.jsxs)(d.Z,{children:[(0,g.jsx)(r.JX,{md:3}),(0,g.jsx)(r.JX,{md:6,children:(0,g.jsx)(r.zx,{className:"payment_nextbtn",onClick:function(e){if(e.preventDefault(),""===localStorage.getItem("Amount"))u.Am.warn("Please enter amount");else if(null==localStorage.getItem("paymentType"))u.Am.warn((0,g.jsx)("b",{children:"Please select payment type"}));else if("cashOnDelivery"===localStorage.getItem("paymentType")){localStorage.setItem("paymentmode","cashOnDelivery");var t={products:b,userAddress:{name:j.name,mobileNumber:j.mobileNumber,pincode:j.pincode,locality:j.locality,address:j.address,city:j.city,state:j.state,addressType:"home"},buyDate:z.getDate()+"/"+z.getMonth()+"/"+z.getFullYear(),paymentMode:"Cash On Delivery",paymentAmount:localStorage.getItem("Amount")};i().post(c.Z+"/order",t,{headers:{Authorization:"Bearer "+(0,s.e)("jwtToken"),"Content-Type":"application/json"}}).then((function(e){200==e.status&&(w(!0),w(!0),x("/paymentsuccess"),localStorage.removeItem("paymentType"))})).catch((function(e){console.log("Error",e.response)}))}else{var a={key:"rzp_live_HD5qU0zoy9Ntd2",key_secret:"GXZHI3xZnA6BFaCZHEYQt2De",amount:100*localStorage.getItem("Amount"),currency:"INR",name:"Mahavir Electronics",description:"Payment for products",handler:function(e){if(null!=localStorage.getItem("Amount")){var t={products:b,userAddress:{name:j.name,mobileNumber:j.mobileNumber,pincode:j.pincode,locality:j.locality,address:j.address,city:j.city,state:j.state,addressType:"home"},buyDate:z.getDate()+"/"+z.getMonth()+"/"+z.getFullYear(),paymentMode:"razorpay",paymentAmount:localStorage.getItem("Amount"),paymentId:e.razorpay_payment_id};i().post(c.Z+"/order",t,{headers:{Authorization:"Bearer "+(0,s.e)("jwtToken"),"Content-Type":"application/json"}}).then((function(e){200==e.status&&(w(!0),w(!0),localStorage.removeItem("paymentType"),x("/paymentsuccess"))})).catch((function(e){console.log("Error",e.response)}))}},prefill:{name:j.name,contact:j.mobileNumber,email:"shivam380.testing@gmail.com"},notes:{address:j.address},theme:{color:"#F37254"}};new window.Razorpay(a).open()}},children:"Next"})})]})]})})]}),(0,g.jsx)(y.Z,{})]})})]})}}}]);
//# sourceMappingURL=480.e7c30b3b.chunk.js.map